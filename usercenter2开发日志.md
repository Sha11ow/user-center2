# user-center2开发日志

***2024/4/12***

- 把user_id和course_id设为自增（role字段感觉enum会好一点，但开发起来都一样）
- 重新搭好框架（详情可以看之前的开发手册）

***2024/4/13***

- 重写了登录功能，改变主要在取了role字段——还没想好后面的逻辑要怎么处理
- 还没做测试（有点晚了，明天来吧）

***2024/4/14***

- 我知道了，用HttpServletRequest，后续做权限校验就从这里拿role字段做权限处理

- 增删改查对应的mapping

  —— 1.新增---@GetMapping 2.删除---@Delete*Mapping* 3.修改---@PutMapping 4.*查询*---@GetMapping

- 没想到mybatis-plus使用会有bean注入失败问题，找bug中

- 找到原因了是主键的问题

- 沟槽的，只有3.3.1版本的mybatis-plus支持多字段共为主键，累死我了（后面试了下，是少数几个版本）

- 明天再来开发想到的东西吧，还是严格遵循边做单元测试边开发的原则，警钟长鸣。

***2024/4/15***

- 已完成login功能并验证
- 已完成logout功能
- 因为id自增不重复，所以userid的自增改为从30002开始；同理courseid的自增改为1020开始
- 已完成adduser功能并验证

***2024/4/15***

- 已完成addCourse功能并验证

***2024/4/18***

- mybaits会有一些bug，当遇到问题时先搜，搜不出来就自己动手搓mapper吧

***2024/4/19***

- 我大概知道bug原因了，querywrapper没有用到Myvatis的BaseMap做映射，导致驼峰命名的字段能被查询但不能被正确返回，真有点搞
- 明天再开发选课功能
